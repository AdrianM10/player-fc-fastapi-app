name: Deploy Player FC API

on:
  push:
    branches: [ feature/github-actions ]

env:
  
  AWS_REGION : af-south-1

permissions:
    id-token: write
    contents: read

jobs:
    AssumeRoleAndCallIdentity:
        runs-on: ubuntu-latest
        steps:
            - name: Git clone the repository
              uses: actions/checkout@v5
            
            - name: Configure AWS credentials
              uses: aws-actions/configure-aws-credentials@v5.1.0
              with:
                aws-region: ${{ env.AWS_REGION }}
                role-to-assume: ${{ secrets.ROLE_TO_ASSUME }}
                role-session-name: GitHub_Actions_to_AWS_OIDC

            - name: Sts GetCallerIdentity
              run: |
                aws sts get-caller-identity

            


